{% load url from future %}
{% load packages %}
<div class="well package-well package">
    <div class="package-name">
        <span><a href="{{ package.get_absolute_url }}">{{ package.cp }}</a>:: {{ package.repository.name }}</span>
        <span class="package_update_datetime">{{ package.updated_datetime }}</span>
    </div>
    {% if package.description %}
        <div style="padding-bottom: 10px; margin 10px;">{{ package.description }}</div>
    {% endif %}
    {% render_keywords_table package arches %}

    {% with herds=package.herds.all maintainers=package.maintainers.all %}
    {% if herds or maintainers %}
    <div style="padding-bottom: 10px; padding-top: 0px; margin-top: 0px;">
    <a href="#" class="trigger"><span class="trigger">+</span>Details</a>
    </div>
    <div class="row-fluid details hide">
        <table class="table table-striped table-hover">
            <colgroup>
                <col class="span1">
                <col class="span1">
            </colgroup>
            <tbody>
                {% if herds %}
                <tr>
                    <td>Herds:</td>
                    <td>
                        {% for herd in herds %}
                        <a href="{% url 'packages' herd=herd.name %}">{{ herd.name }}</a>{% if not forloop.last %},{% endif %}
                        {% endfor %}
                    </td>
                </tr>
                {% endif %}
                {% if maintainers %}
                <tr>
                    <td>Maintainers:</td>
                    <td>
                        {% for maintainer in maintainers %}
                        <a href="{% url 'packages' maintainer=maintainer.pk %}">{{ maintainer.name }}</a>{% if not forloop.last %},{% endif %}
                        {% endfor %}
                    </td>
                </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
    {% endif %}
    {% endwith %}
</div>
